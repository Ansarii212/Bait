<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>عقارات</title>
  <style>
    body { font-family: Arial; direction: rtl; background: #f9f9f9; padding: 20px; }
    .property { border: 1px solid #ccc; padding: 10px; margin: 10px; background: #fff; border-radius: 10px; }
    .filter-bar { margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 10px; }
    select { padding: 5px; font-size: 16px; border-radius: 5px; }
  </style>
</head>
<body>

<h2>عقارات متاحة</h2>

<div id="filters" class="filter-bar">
  <select onchange="filterProperties()" id="districtFilter">
    <option value="">كل الأحياء</option>
    <option>الربوة</option>
    <option>اليرموك</option>
    <option>الندى</option>
  </select>

  <select onchange="filterProperties()" id="typeFilter">
    <option value="">كل الأنواع</option>
    <option>شقة</option>
    <option>فيلا</option>
    <option>أرض</option>
  </select>

  <select onchange="filterProperties()" id="sortFilter">
    <option value="new">الأحدث</option>
    <option value="old">الأقدم</option>
    <option value="high">الأغلى</option>
    <option value="low">الأرخص</option>
  </select>
</div>

<div id="propertyList"></div>

<script>
  const properties = [
    { title: "شقة للبيع", price: 300000, type: "شقة", district: "الربوة", timestamp: 1714900000000 },
    { title: "فيلا راقية", price: 1500000, type: "فيلا", district: "اليرموك", timestamp: 1714800000000 },
    { title: "أرض سكنية", price: 500000, type: "أرض", district: "الندى", timestamp: 1714700000000 },
    { title: "شقة مفروشة", price: 350000, type: "شقة", district: "اليرموك", timestamp: 1714600000000 },
    { title: "فيلا مع مسبح", price: 1800000, type: "فيلا", district: "الربوة", timestamp: 1714500000000 }
  ];

  function renderProperties() {
    const sort = document.getElementById("sortFilter").value;
    const district = document.getElementById("districtFilter").value;
    const type = document.getElementById("typeFilter").value;
    let filtered = [...properties];

    if (district) {
      filtered = filtered.filter(p => p.district === district);
    }

    if (type) {
      filtered = filtered.filter(p => p.type === type);
    }

    if (sort === "new") filtered.sort((a, b) => b.timestamp - a.timestamp);
    if (sort === "old") filtered.sort((a, b) => a.timestamp - b.timestamp);
    if (sort === "high") filtered.sort((a, b) => b.price - a.price);
    if (sort === "low") filtered.sort((a, b) => a.price - b.price);

    const container = document.getElementById("propertyList");
    container.innerHTML = "";

    if (filtered.length === 0) {
      container.innerHTML = "<p>لا توجد عقارات مطابقة.</p>";
      return;
    }

    filtered.forEach(p => {
      const div = document.createElement("div");
      div.className = "property";
      div.innerHTML = `
        <h3>${p.title}</h3>
        <p>السعر: ${p.price.toLocaleString()} ريال</p>
        <p>النوع: ${p.type}</p>
        <p>الحي: ${p.district}</p>
      `;
      container.appendChild(div);
    });
  }

  // عرض العقارات عند تحميل الصفحة
  window.onload = renderProperties;
  function filterProperties() {
    renderProperties();
  }
</script>

</body>
</html>
